{"version":2,"kind":"Notebook","sha256":"1d54ec4bb79282e0e4ba67c5a4a573c3ecacb3299440e0cdd6b94f9285a3e97d","slug":"gmst","location":"/notebooks/example-workflows/gmst.ipynb","dependencies":[],"frontmatter":{"title":"Global Mean Surface Temperature","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Ryan Abernathey","given":"Ryan","family":"Abernathey"},"name":"Ryan Abernathey","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Henri Drake","given":"Henri","family":"Drake"},"name":"Henri Drake","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Robert Ford","given":"Robert","family":"Ford"},"name":"Robert Ford","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Max Grover","given":"Max","family":"Grover"},"name":"Max Grover","id":"contributors-myst-generated-uid-3"}],"open_access":true,"license":{"content":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true},"code":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"github":"https://github.com/projectpythia/cmip6-cookbook","copyright":"2024","numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/cmip6-cookbook/blob/main/notebooks/example-workflows/gmst.ipynb","thumbnail":"/cmip6-cookbook/build/cmip6-cookbook-thumb-6f24a5a7fa484443276282726fef7da6.png","exports":[{"format":"ipynb","filename":"gmst.ipynb","url":"/cmip6-cookbook/build/gmst-5b314c1d52a714e7d11f29737cee84d6.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"image","url":"/cmip6-cookbook/build/cmip6-cookbook-thumb-6f24a5a7fa484443276282726fef7da6.png","alt":"CMIP6 image","key":"R639ylYMBX","urlSource":"../images/cmip6-cookbook-thumbnail.png"}],"key":"qdsiLEOg9u"}],"key":"iH7Ad4jIjh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Global Mean Surface Temperature","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wcu8LJJiDB"}],"identifier":"global-mean-surface-temperature","label":"Global Mean Surface Temperature","html_id":"global-mean-surface-temperature","implicit":true,"key":"jH8Z0gpMZK"}],"key":"sgprjc4s4M"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DgYYpT8Mey"}],"key":"EfSMpj9NjI"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XlIZ5HjHfj"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"rp79eGA7Jb"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This notebook uses similar techniques to the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"thhie2Z7Xo"},{"type":"link","url":"/ecs-cmip6","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"ECS notebook","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"lBf1F4KnDK"}],"urlSource":"ecs-cmip6.ipynb","dataUrl":"/ecs-cmip6.json","internal":true,"protocol":"file","key":"Jl4p3YRB4W"},{"type":"text","value":". Please refer to that notebook for details.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Emy4vbeZ3V"}],"key":"taDS48YT80"}],"key":"IF7Y16kCRA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JunIoFTajH"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"YMNcxAwLbF"},{"type":"table","position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"DkiB25DrJp"}],"key":"xyCgOaD0dL"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Om2kqMRv8I"}],"key":"NyGreiEEXO"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"wiUKZHWJSt"}],"key":"ssjEzc1cZI"}],"key":"WZ45pFAFW9"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/data-formats/netcdf-cf.html","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Understanding of NetCDF","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"OxTgOWTDw8"}],"urlSource":"https://foundations.projectpythia.org/core/data-formats/netcdf-cf.html","key":"rsN2z2xjYX"}],"key":"PegrIj3bAJ"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"YdiEg0KPvn"}],"key":"N6hOmV40lK"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Familiarity with metadata structure","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"vu9iBomRFy"}],"key":"gZwc4bBMMs"}],"key":"Cz09OZeXWQ"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Seaborn","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"XP8RTMCo63"}],"key":"rEmIL8XuXp"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"RrBBtlI510"}],"key":"Wf3PMD14sC"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[],"key":"magJOXxIYy"}],"key":"yaMsbEhBNV"}],"key":"QYIvIwv55Y"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"S6rz1LL1gQ"}],"key":"IDICZyRN8O"},{"type":"text","value":": 10 minutes","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"xwxxyxlT0o"}],"key":"K4bpj54zxL"}],"key":"i5nYILj47e"}],"key":"mHbSrqIHsd"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HkFqBPWpy5"}],"key":"hkpYiqQ7YU"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dgZ4zlioyM"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"VQk7ATpdx5"}],"key":"Y7oroT9WdL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from matplotlib import pyplot as plt\nimport xarray as xr\nimport numpy as np\nimport dask\nfrom dask.diagnostics import progress\nfrom tqdm.autonotebook import tqdm\nimport intake\nimport fsspec\nimport seaborn as sns\n\n%matplotlib inline","key":"pxIRGL0ffW"},{"type":"output","id":"aAtfH81UFP2cvZOtQ7M3Z","data":[{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/1335193511.py:6: TqdmExperimentalWarning: Using `tqdm.autonotebook.tqdm` in notebook mode. Use `tqdm.tqdm` instead to force console mode (e.g. in jupyter console)\n  from tqdm.autonotebook import tqdm\n"}],"key":"tJB5zPtOVG"}],"key":"Eb8Qpbmgai"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"col = intake.open_esm_datastore(\"https://storage.googleapis.com/cmip6/pangeo-cmip6.json\")\ncol","key":"zbi0NaCoSq"},{"type":"output","id":"8osdiNoE57r_srlcRJY0f","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"},"text/html":{"content":"<p><strong>pangeo-cmip6 catalog with 7674 dataset(s) from 514818 asset(s)</strong>:</p> <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>unique</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>activity_id</th>\n      <td>18</td>\n    </tr>\n    <tr>\n      <th>institution_id</th>\n      <td>36</td>\n    </tr>\n    <tr>\n      <th>source_id</th>\n      <td>88</td>\n    </tr>\n    <tr>\n      <th>experiment_id</th>\n      <td>170</td>\n    </tr>\n    <tr>\n      <th>member_id</th>\n      <td>657</td>\n    </tr>\n    <tr>\n      <th>table_id</th>\n      <td>37</td>\n    </tr>\n    <tr>\n      <th>variable_id</th>\n      <td>700</td>\n    </tr>\n    <tr>\n      <th>grid_label</th>\n      <td>10</td>\n    </tr>\n    <tr>\n      <th>zstore</th>\n      <td>514818</td>\n    </tr>\n    <tr>\n      <th>dcpp_init_year</th>\n      <td>60</td>\n    </tr>\n    <tr>\n      <th>version</th>\n      <td>736</td>\n    </tr>\n    <tr>\n      <th>derived_variable_id</th>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"}}}],"key":"YAERGMrCdQ"}],"key":"yvudaKLqz5"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"[eid for eid in col.df['experiment_id'].unique() if 'ssp' in eid]","key":"h26BVV4bE4"},{"type":"output","id":"1ecpz1u52UnRyCm6KEFzT","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"['ssp585',\n 'ssp245',\n 'ssp370SST-lowCH4',\n 'ssp370-lowNTCF',\n 'ssp370SST-lowNTCF',\n 'ssp370SST-ssp126Lu',\n 'ssp370SST',\n 'ssp370pdSST',\n 'ssp119',\n 'ssp370',\n 'esm-ssp585-ssp126Lu',\n 'ssp126-ssp370Lu',\n 'ssp370-ssp126Lu',\n 'ssp126',\n 'esm-ssp585',\n 'ssp245-GHG',\n 'ssp245-nat',\n 'ssp460',\n 'ssp434',\n 'ssp534-over',\n 'ssp245-stratO3',\n 'ssp245-aer',\n 'ssp245-cov-modgreen',\n 'ssp245-cov-fossil',\n 'ssp245-cov-strgreen',\n 'ssp245-covid',\n 'ssp585-bgc']","content_type":"text/plain"}}}],"key":"lcRdFOCXeH"}],"key":"h3a7GqZxYy"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"There is currently a significant amount of data for these runs:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WQzcTJpdx7"}],"key":"FiUz2aZGDv"}],"key":"xiKUU5rx5u"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"expts = ['historical', 'ssp245', 'ssp585']\n\nquery = dict(\n    experiment_id=expts,\n    table_id='Amon',\n    variable_id=['tas'],\n    member_id = 'r1i1p1f1',\n)\n\ncol_subset = col.search(require_all_on=[\"source_id\"], **query)\ncol_subset.df.groupby(\"source_id\")[\n    [\"experiment_id\", \"variable_id\", \"table_id\"]\n].nunique()","key":"mnZDMXd6od"},{"type":"output","id":"f0ZqYV6-Cs87K0nX7z5ck","data":[{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/plain":{"content":"                  experiment_id  variable_id  table_id\nsource_id                                             \nACCESS-CM2                    3            1         1\nAWI-CM-1-1-MR                 3            1         1\nBCC-CSM2-MR                   3            1         1\nCAMS-CSM1-0                   3            1         1\nCAS-ESM2-0                    3            1         1\nCESM2-WACCM                   3            1         1\nCIESM                         3            1         1\nCMCC-CM2-SR5                  3            1         1\nCMCC-ESM2                     3            1         1\nCanESM5                       3            1         1\nE3SM-1-1                      3            1         1\nEC-Earth3                     3            1         1\nEC-Earth3-CC                  3            1         1\nEC-Earth3-Veg                 3            1         1\nEC-Earth3-Veg-LR              3            1         1\nFGOALS-f3-L                   3            1         1\nFGOALS-g3                     3            1         1\nFIO-ESM-2-0                   3            1         1\nGFDL-CM4                      3            1         1\nGFDL-ESM4                     3            1         1\nIITM-ESM                      3            1         1\nINM-CM4-8                     3            1         1\nINM-CM5-0                     3            1         1\nIPSL-CM6A-LR                  3            1         1\nKACE-1-0-G                    3            1         1\nKIOST-ESM                     3            1         1\nMIROC6                        3            1         1\nMPI-ESM1-2-HR                 3            1         1\nMPI-ESM1-2-LR                 3            1         1\nMRI-ESM2-0                    3            1         1\nNESM3                         3            1         1\nNorESM2-LM                    3            1         1\nNorESM2-MM                    3            1         1\nTaiESM1                       3            1         1","content_type":"text/plain"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>experiment_id</th>\n      <th>variable_id</th>\n      <th>table_id</th>\n    </tr>\n    <tr>\n      <th>source_id</th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>ACCESS-CM2</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>AWI-CM-1-1-MR</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>BCC-CSM2-MR</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>CAMS-CSM1-0</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>CAS-ESM2-0</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>CESM2-WACCM</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>CIESM</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>CMCC-CM2-SR5</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>CMCC-ESM2</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>CanESM5</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>E3SM-1-1</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>EC-Earth3</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>EC-Earth3-CC</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>EC-Earth3-Veg</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>EC-Earth3-Veg-LR</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>FGOALS-f3-L</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>FGOALS-g3</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>FIO-ESM-2-0</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>GFDL-CM4</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>GFDL-ESM4</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>IITM-ESM</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>INM-CM4-8</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>INM-CM5-0</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>IPSL-CM6A-LR</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>KACE-1-0-G</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>KIOST-ESM</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>MIROC6</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>MPI-ESM1-2-HR</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>MPI-ESM1-2-LR</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>MRI-ESM2-0</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>NESM3</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>NorESM2-LM</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>NorESM2-MM</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>TaiESM1</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"}}}],"key":"cnfohJjF8i"}],"key":"INKXxKxGKN"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def drop_all_bounds(ds):\n    drop_vars = [vname for vname in ds.coords\n                 if (('_bounds') in vname ) or ('_bnds') in vname]\n    return ds.drop(drop_vars)\n\ndef open_dset(df):\n    assert len(df) == 1\n    ds = xr.open_zarr(fsspec.get_mapper(df.zstore.values[0]), consolidated=True)\n    return drop_all_bounds(ds)\n\ndef open_delayed(df):\n    return dask.delayed(open_dset)(df)\n\nfrom collections import defaultdict\ndsets = defaultdict(dict)\n\nfor group, df in col_subset.df.groupby(by=['source_id', 'experiment_id']):\n    dsets[group[0]][group[1]] = open_delayed(df)","key":"CzdUfhIU5V"},{"type":"output","id":"evcFkQIQJIOY2_QpwgTJd","data":[],"key":"lvpcjnjT2u"}],"key":"ttOZPAGqti"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dsets_ = dask.compute(dict(dsets))[0]","key":"CuaMBLRn9J"},{"type":"output","id":"HGmZ-HV_kc-ewrb-5Gt9W","data":[{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:8: SerializationWarning: Unable to decode time axis into full numpy.datetime64[ns] objects, continuing using cftime.datetime objects instead, reason: dates out of range. To silence this warning use a coarser resolution 'time_unit' or specify 'use_cftime=True'.\n  ds = xr.open_zarr(fsspec.get_mapper(df.zstore.values[0]), consolidated=True)\n/tmp/ipykernel_4331/354912406.py:8: SerializationWarning: Unable to decode time axis into full numpy.datetime64[ns] objects, continuing using cftime.datetime objects instead, reason: dates out of range. To silence this warning use a coarser resolution 'time_unit' or specify 'use_cftime=True'.\n  ds = xr.open_zarr(fsspec.get_mapper(df.zstore.values[0]), consolidated=True)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:8: SerializationWarning: Unable to decode time axis into full numpy.datetime64[ns] objects, continuing using cftime.datetime objects instead, reason: dates out of range. To silence this warning use a coarser resolution 'time_unit' or specify 'use_cftime=True'.\n  ds = xr.open_zarr(fsspec.get_mapper(df.zstore.values[0]), consolidated=True)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:8: SerializationWarning: Unable to decode time axis into full numpy.datetime64[ns] objects, continuing using cftime.datetime objects instead, reason: dates out of range. To silence this warning use a coarser resolution 'time_unit' or specify 'use_cftime=True'.\n  ds = xr.open_zarr(fsspec.get_mapper(df.zstore.values[0]), consolidated=True)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:8: SerializationWarning: Unable to decode time axis into full numpy.datetime64[ns] objects, continuing using cftime.datetime objects instead, reason: dates out of range. To silence this warning use a coarser resolution 'time_unit' or specify 'use_cftime=True'.\n  ds = xr.open_zarr(fsspec.get_mapper(df.zstore.values[0]), consolidated=True)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:8: SerializationWarning: Unable to decode time axis into full numpy.datetime64[ns] objects, continuing using cftime.datetime objects instead, reason: dates out of range. To silence this warning use a coarser resolution 'time_unit' or specify 'use_cftime=True'.\n  ds = xr.open_zarr(fsspec.get_mapper(df.zstore.values[0]), consolidated=True)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"}],"key":"X9KXyEKCDn"}],"key":"xRwDPfMoeL"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculate global means:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Np5QbccpD6"}],"key":"e4DMwSYq2c"}],"key":"S7FspVZRjV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def get_lat_name(ds):\n    for lat_name in ['lat', 'latitude']:\n        if lat_name in ds.coords:\n            return lat_name\n    raise RuntimeError(\"Couldn't find a latitude coordinate\")\n\ndef global_mean(ds):\n    lat = ds[get_lat_name(ds)]\n    weight = np.cos(np.deg2rad(lat))\n    weight /= weight.mean()\n    other_dims = set(ds.dims) - {'time'}\n    return (ds * weight).mean(other_dims)","key":"sikR1cHB1b"},{"type":"output","id":"TFN9xdIfJ04CmkcE9Xxoj","data":[],"key":"gbpn0NuyHx"}],"key":"XJQEu54zCv"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"expt_da = xr.DataArray(expts, dims='experiment_id', name='experiment_id',\n                       coords={'experiment_id': expts})\n\ndsets_aligned = {}\n\nfor k, v in tqdm(dsets_.items()):\n    expt_dsets = v.values()\n    if any([d is None for d in expt_dsets]):\n        print(f\"Missing experiment for {k}\")\n        continue\n\n    for ds in expt_dsets:\n        ds.coords['year'] = ds.time.dt.year\n\n    # workaround for\n    # https://github.com/pydata/xarray/issues/2237#issuecomment-620961663\n    dsets_ann_mean = [v[expt].pipe(global_mean)\n                             .swap_dims({'time': 'year'})\n                             .drop('time')\n                             .coarsen(year=12).mean()\n                      for expt in expts]\n\n    # align everything with the 4xCO2 experiment\n    dsets_aligned[k] = xr.concat(dsets_ann_mean, join='outer',\n                                 dim=expt_da)","key":"AlgcQUKD5q"},{"type":"output","id":"GgSHRdJgBehY6_uzk2yvK","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"  0%|          | 0/34 [00:00<?, ?it/s]","content_type":"text/plain"},"application/vnd.jupyter.widget-view+json":{"content":"{\"version_major\":2,\"version_minor\":0,\"model_id\":\"f58a6f5809cb4efdb6e8db75bc5da632\"}","content_type":"application/vnd.jupyter.widget-view+json"}}},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4331/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"}],"key":"hk1tCcx0Ng"}],"key":"MEMkUvwDMf"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dsets_aligned_ = dask.compute(dsets_aligned)[0]","key":"kqpJFMWKxN"},{"type":"output","id":"sP3xOQMrJOQGGLS6GrcKK","data":[],"key":"Eqx2ueO3Xv"}],"key":"QlIJSdngx1"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"source_ids = list(dsets_aligned_.keys())\nsource_da = xr.DataArray(source_ids, dims='source_id', name='source_id',\n                         coords={'source_id': source_ids})\n\nbig_ds = xr.concat([ds.reset_coords(drop=True)\n                    for ds in dsets_aligned_.values()],\n                    dim=source_da)\n\nbig_ds","key":"Nylq38hXpc"},{"type":"output","id":"_gJsG-G_LVhRoqmyt35Vn","data":[{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 374kB\nDimensions:        (source_id: 34, experiment_id: 3, year: 451)\nCoordinates:\n  * year           (year) float64 4kB 1.85e+03 1.851e+03 ... 2.299e+03 2.3e+03\n  * experiment_id  (experiment_id) <U10 120B 'historical' 'ssp245' 'ssp585'\n  * source_id      (source_id) <U16 2kB 'ACCESS-CM2' ... 'TaiESM1'\nData variables:\n    tas            (source_id, experiment_id, year) float64 368kB 287.0 ... nan","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 374kB\nDimensions:        (source_id: 34, experiment_id: 3, year: 451)\nCoordinates:\n  * year           (year) float64 4kB 1.85e+03 1.851e+03 ... 2.299e+03 2.3e+03\n  * experiment_id  (experiment_id) &lt;U10 120B &#x27;historical&#x27; &#x27;ssp245&#x27; &#x27;ssp585&#x27;\n  * source_id      (source_id) &lt;U16 2kB &#x27;ACCESS-CM2&#x27; ... &#x27;TaiESM1&#x27;\nData variables:\n    tas            (source_id, experiment_id, year) float64 368kB 287.0 ... nan</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-cc8b6829-57c6-4602-a22e-25ba222c48fe' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-cc8b6829-57c6-4602-a22e-25ba222c48fe' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>source_id</span>: 34</li><li><span class='xr-has-index'>experiment_id</span>: 3</li><li><span class='xr-has-index'>year</span>: 451</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-fa48a4e7-f0fe-4266-9fd9-d4bab186029a' class='xr-section-summary-in' type='checkbox'  checked><label for='section-fa48a4e7-f0fe-4266-9fd9-d4bab186029a' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>year</span></div><div class='xr-var-dims'>(year)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.85e+03 1.851e+03 ... 2.3e+03</div><input id='attrs-78973e29-6f25-443d-9d79-4dafefd6afc1' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-78973e29-6f25-443d-9d79-4dafefd6afc1' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-889a06ad-523f-4ef0-87e7-6511fdda6b75' class='xr-var-data-in' type='checkbox'><label for='data-889a06ad-523f-4ef0-87e7-6511fdda6b75' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>axis :</span></dt><dd>T</dd><dt><span>bounds :</span></dt><dd>time_bnds</dd><dt><span>long_name :</span></dt><dd>time</dd><dt><span>standard_name :</span></dt><dd>time</dd></dl></div><div class='xr-var-data'><pre>array([1850., 1851., 1852., ..., 2298., 2299., 2300.], shape=(451,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>experiment_id</span></div><div class='xr-var-dims'>(experiment_id)</div><div class='xr-var-dtype'>&lt;U10</div><div class='xr-var-preview xr-preview'>&#x27;historical&#x27; &#x27;ssp245&#x27; &#x27;ssp585&#x27;</div><input id='attrs-57dff7e5-a60c-4a83-9fa6-05a95a3c2553' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-57dff7e5-a60c-4a83-9fa6-05a95a3c2553' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-183a0cdd-32b1-408e-8a4c-01d571b4f9cf' class='xr-var-data-in' type='checkbox'><label for='data-183a0cdd-32b1-408e-8a4c-01d571b4f9cf' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;historical&#x27;, &#x27;ssp245&#x27;, &#x27;ssp585&#x27;], dtype=&#x27;&lt;U10&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>source_id</span></div><div class='xr-var-dims'>(source_id)</div><div class='xr-var-dtype'>&lt;U16</div><div class='xr-var-preview xr-preview'>&#x27;ACCESS-CM2&#x27; ... &#x27;TaiESM1&#x27;</div><input id='attrs-53434efc-82ab-40d0-a384-f572a993e742' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-53434efc-82ab-40d0-a384-f572a993e742' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-f1628cb1-1f9f-4726-bf5a-a83764cabdbd' class='xr-var-data-in' type='checkbox'><label for='data-f1628cb1-1f9f-4726-bf5a-a83764cabdbd' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;ACCESS-CM2&#x27;, &#x27;AWI-CM-1-1-MR&#x27;, &#x27;BCC-CSM2-MR&#x27;, &#x27;CAMS-CSM1-0&#x27;,\n       &#x27;CAS-ESM2-0&#x27;, &#x27;CESM2-WACCM&#x27;, &#x27;CIESM&#x27;, &#x27;CMCC-CM2-SR5&#x27;, &#x27;CMCC-ESM2&#x27;,\n       &#x27;CanESM5&#x27;, &#x27;E3SM-1-1&#x27;, &#x27;EC-Earth3&#x27;, &#x27;EC-Earth3-CC&#x27;, &#x27;EC-Earth3-Veg&#x27;,\n       &#x27;EC-Earth3-Veg-LR&#x27;, &#x27;FGOALS-f3-L&#x27;, &#x27;FGOALS-g3&#x27;, &#x27;FIO-ESM-2-0&#x27;,\n       &#x27;GFDL-CM4&#x27;, &#x27;GFDL-ESM4&#x27;, &#x27;IITM-ESM&#x27;, &#x27;INM-CM4-8&#x27;, &#x27;INM-CM5-0&#x27;,\n       &#x27;IPSL-CM6A-LR&#x27;, &#x27;KACE-1-0-G&#x27;, &#x27;KIOST-ESM&#x27;, &#x27;MIROC6&#x27;, &#x27;MPI-ESM1-2-HR&#x27;,\n       &#x27;MPI-ESM1-2-LR&#x27;, &#x27;MRI-ESM2-0&#x27;, &#x27;NESM3&#x27;, &#x27;NorESM2-LM&#x27;, &#x27;NorESM2-MM&#x27;,\n       &#x27;TaiESM1&#x27;], dtype=&#x27;&lt;U16&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-4afa3284-fc80-490f-b853-d22276fe64c0' class='xr-section-summary-in' type='checkbox'  checked><label for='section-4afa3284-fc80-490f-b853-d22276fe64c0' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>tas</span></div><div class='xr-var-dims'>(source_id, experiment_id, year)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>287.0 287.0 287.2 ... nan nan nan</div><input id='attrs-208152f0-132f-43c3-acc8-65d58c0290d5' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-208152f0-132f-43c3-acc8-65d58c0290d5' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-260680cd-7abd-405b-a6c5-db67a298b517' class='xr-var-data-in' type='checkbox'><label for='data-260680cd-7abd-405b-a6c5-db67a298b517' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[287.00749364, 287.01698452, 287.17454216, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ..., 300.68990761,\n         300.73173147, 300.76578769]],\n\n       [[         nan, 286.82136175, 286.83013242, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan]],\n\n       [[287.53316044, 287.57944112, 287.74630242, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan]],\n...\n       [[287.58305201, 287.80131659, 287.70510569, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan]],\n\n       [[287.14579909, 287.16514246, 287.06030532, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan]],\n\n       [[286.88855234, 287.0176198 , 287.02504101, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan]]], shape=(34, 3, 451))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-fcf93f11-8c85-4d98-a515-47499287ae2a' class='xr-section-summary-in' type='checkbox'  ><label for='section-fcf93f11-8c85-4d98-a515-47499287ae2a' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>year</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-1726f846-f4b2-4ae4-a97a-89febc3d21f5' class='xr-index-data-in' type='checkbox'/><label for='index-1726f846-f4b2-4ae4-a97a-89febc3d21f5' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([1850.0, 1851.0, 1852.0, 1853.0, 1854.0, 1855.0, 1856.0, 1857.0, 1858.0,\n       1859.0,\n       ...\n       2291.0, 2292.0, 2293.0, 2294.0, 2295.0, 2296.0, 2297.0, 2298.0, 2299.0,\n       2300.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;year&#x27;, length=451))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>experiment_id</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-fe69136e-110a-4142-905a-b890c7046ba6' class='xr-index-data-in' type='checkbox'/><label for='index-fe69136e-110a-4142-905a-b890c7046ba6' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;historical&#x27;, &#x27;ssp245&#x27;, &#x27;ssp585&#x27;], dtype=&#x27;object&#x27;, name=&#x27;experiment_id&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>source_id</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-4f59f018-076f-4daa-8401-3f20efc554e9' class='xr-index-data-in' type='checkbox'/><label for='index-4f59f018-076f-4daa-8401-3f20efc554e9' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;ACCESS-CM2&#x27;, &#x27;AWI-CM-1-1-MR&#x27;, &#x27;BCC-CSM2-MR&#x27;, &#x27;CAMS-CSM1-0&#x27;,\n       &#x27;CAS-ESM2-0&#x27;, &#x27;CESM2-WACCM&#x27;, &#x27;CIESM&#x27;, &#x27;CMCC-CM2-SR5&#x27;, &#x27;CMCC-ESM2&#x27;,\n       &#x27;CanESM5&#x27;, &#x27;E3SM-1-1&#x27;, &#x27;EC-Earth3&#x27;, &#x27;EC-Earth3-CC&#x27;, &#x27;EC-Earth3-Veg&#x27;,\n       &#x27;EC-Earth3-Veg-LR&#x27;, &#x27;FGOALS-f3-L&#x27;, &#x27;FGOALS-g3&#x27;, &#x27;FIO-ESM-2-0&#x27;,\n       &#x27;GFDL-CM4&#x27;, &#x27;GFDL-ESM4&#x27;, &#x27;IITM-ESM&#x27;, &#x27;INM-CM4-8&#x27;, &#x27;INM-CM5-0&#x27;,\n       &#x27;IPSL-CM6A-LR&#x27;, &#x27;KACE-1-0-G&#x27;, &#x27;KIOST-ESM&#x27;, &#x27;MIROC6&#x27;, &#x27;MPI-ESM1-2-HR&#x27;,\n       &#x27;MPI-ESM1-2-LR&#x27;, &#x27;MRI-ESM2-0&#x27;, &#x27;NESM3&#x27;, &#x27;NorESM2-LM&#x27;, &#x27;NorESM2-MM&#x27;,\n       &#x27;TaiESM1&#x27;],\n      dtype=&#x27;object&#x27;, name=&#x27;source_id&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-367ef9ed-e676-489c-a6cf-bd125987b0f7' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-367ef9ed-e676-489c-a6cf-bd125987b0f7' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"EDcMKUEtiN"}],"key":"IFk093kNwq"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"df_all = big_ds.sel(year=slice(1900, 2100)).to_dataframe().reset_index()\ndf_all.head()","key":"f0iLLE0V0B"},{"type":"output","id":"MQIwMntAEnfRXY8vw0r1l","data":[{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/plain":{"content":"    source_id experiment_id    year         tas\n0  ACCESS-CM2    historical  1900.0  287.019917\n1  ACCESS-CM2    historical  1901.0  286.966182\n2  ACCESS-CM2    historical  1902.0  286.994328\n3  ACCESS-CM2    historical  1903.0  286.797043\n4  ACCESS-CM2    historical  1904.0  286.803313","content_type":"text/plain"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>source_id</th>\n      <th>experiment_id</th>\n      <th>year</th>\n      <th>tas</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>ACCESS-CM2</td>\n      <td>historical</td>\n      <td>1900.0</td>\n      <td>287.019917</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>ACCESS-CM2</td>\n      <td>historical</td>\n      <td>1901.0</td>\n      <td>286.966182</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>ACCESS-CM2</td>\n      <td>historical</td>\n      <td>1902.0</td>\n      <td>286.994328</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>ACCESS-CM2</td>\n      <td>historical</td>\n      <td>1903.0</td>\n      <td>286.797043</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>ACCESS-CM2</td>\n      <td>historical</td>\n      <td>1904.0</td>\n      <td>286.803313</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"}}}],"key":"FN3PVkgU6B"}],"key":"vUjAoz2ZtP"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sns.relplot(data=df_all,\n            x=\"year\", y=\"tas\", hue='experiment_id',\n            kind=\"line\", ci=\"sd\", aspect=2);","key":"O8C1k86Glc"},{"type":"output","id":"2nh6MQ8oZG8IsCzL-kDpQ","data":[{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/cmip6-cookbook-dev/lib/python3.11/site-packages/seaborn/axisgrid.py:854: FutureWarning: \n\nThe `ci` parameter is deprecated. Use `errorbar='sd'` for the same effect.\n\n  func(*plot_args, **plot_kwargs)\n"},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1113.5x500 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"2906cea4f88ee6353b5644967487f96e","path":"/cmip6-cookbook/build/2906cea4f88ee6353b5644967487f96e.png"}}}],"key":"HOqZTOs7sL"}],"key":"tDG71hwGAm"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wE52xYkPXq"}],"key":"X9Vxd4EjsW"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nFSbOb8Wk0"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"XFa8oCWVjT"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In this notebook, we accessed data for historical, SSP245, and SSP585 runs from a collection of CMIP6 models and plotted the multimodel-mean global average surface air temperature for each run.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"TfCl0uu797"}],"key":"k2PsGR6ziM"},{"type":"heading","depth":3,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"What’s next?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"PIuZG1uYDG"}],"identifier":"whats-next","label":"What’s next?","html_id":"whats-next","implicit":true,"key":"T9oGcLCPbW"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We will use CMIP6 data to analyze precipitation intensity under a warming climate.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"BdVFYh0KTT"}],"key":"NTWDik148P"}],"key":"l2clNCLmX5"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Resources and references","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UA5HoeIAXZ"}],"identifier":"resources-and-references","label":"Resources and references","html_id":"resources-and-references","implicit":true,"key":"e6iLbLUxxM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"link","url":"http://gallery.pangeo.io/repos/pangeo-gallery/cmip6/global_mean_surface_temp.html","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Original notebook in the Pangeo Gallery","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"H9zHc9Ykor"}],"urlSource":"http://gallery.pangeo.io/repos/pangeo-gallery/cmip6/global_mean_surface_temp.html","key":"rnZg7PWdxH"},{"type":"text","value":" by Henri Drake and ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"MRvt1B2GuC"},{"type":"link","url":"https://ocean-transport.github.io/","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Ryan Abernathey","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"YDtwYMwojm"}],"urlSource":"https://ocean-transport.github.io/","key":"AnS7rOC2pr"}],"key":"H2SCMd15pM"}],"key":"e0YdZ196dv"}],"visibility":"show","key":"CV7cMuiNRe"}],"key":"ysE0WNTLsp"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Estimating Equilibrium Climate Sensitivity","url":"/ecs-cmip6","group":"Example workflows"},"next":{"title":"Precipitation Frequency Analysis","url":"/precip-freq","group":"Example workflows"}}},"domain":"http://localhost:3000"}