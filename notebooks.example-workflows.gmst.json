{"version":2,"kind":"Notebook","sha256":"48f9de06e0f970281dd70e3e5cf81119724e84b228022dd2a3eb0332d3f42858","slug":"notebooks.example-workflows.gmst","location":"/notebooks/example-workflows/gmst.ipynb","dependencies":[],"frontmatter":{"title":"Global Mean Surface Temperature","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Ryan Abernathey","given":"Ryan","family":"Abernathey"},"name":"Ryan Abernathey","id":"contributors-myst-generated-uid-0"},{"nameParsed":{"literal":"Henri Drake","given":"Henri","family":"Drake"},"name":"Henri Drake","id":"contributors-myst-generated-uid-1"},{"nameParsed":{"literal":"Robert Ford","given":"Robert","family":"Ford"},"name":"Robert Ford","id":"contributors-myst-generated-uid-2"},{"nameParsed":{"literal":"Max Grover","given":"Max","family":"Grover"},"name":"Max Grover","id":"contributors-myst-generated-uid-3"}],"open_access":true,"license":{"content":{"id":"Apache-2.0","url":"https://opensource.org/licenses/Apache-2.0","name":"Apache License 2.0","free":true,"osi":true},"code":{"id":"CC-BY-4.0","url":"https://creativecommons.org/licenses/by/4.0/","name":"Creative Commons Attribution 4.0 International","free":true,"CC":true}},"github":"https://github.com/projectpythia/cmip6-cookbook","copyright":"2024","affiliations":[{"id":"University at Albany (State University of New York)","name":"University at Albany (State University of New York)"},{"id":"UCAR/NCAR","name":"UCAR/NCAR"}],"numbering":{"title":{"offset":1}},"edit_url":"https://github.com/projectpythia/cmip6-cookbook/blob/main/notebooks/example-workflows/gmst.ipynb","exports":[{"format":"ipynb","filename":"gmst.ipynb","url":"/cmip6-cookbook/build/gmst-aaea93f33baf7c335823c104b832dd12.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xAARrGavHn"}],"key":"DCmL4njpcS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Kvwb3rrvVV"}],"identifier":"overview","label":"Overview","html_id":"overview","implicit":true,"key":"tZyBkQqclA"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This notebook uses similar techniques to the ","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"BopBVEnu67"},{"type":"link","url":"/notebooks/example-workflows/ecs-cmip6","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"ECS notebook","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"QAgKBI4xCw"}],"urlSource":"ecs-cmip6.ipynb","dataUrl":"/notebooks.example-workflows.ecs-cmip6.json","internal":true,"protocol":"file","key":"pgBlkez8IG"},{"type":"text","value":". Please refer to that notebook for details.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"X7cS9uGCKR"}],"key":"ADgIbWlx8j"}],"key":"e3m9St1l6h"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"z3dbdRkLm0"}],"identifier":"prerequisites","label":"Prerequisites","html_id":"prerequisites","implicit":true,"key":"DnG5KgWjgk"},{"type":"table","position":{"start":{"line":3,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Concepts","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ENl9t6y2hE"}],"key":"c1cyPleI3L"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Importance","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"ACFjGeTc08"}],"key":"OxDFel5YqG"},{"type":"tableCell","header":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Notes","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"oKcUcPtOQd"}],"key":"U5sugjatKI"}],"key":"NsfInRMM4f"},{"type":"tableRow","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"link","url":"https://foundations.projectpythia.org/core/data-formats/netcdf-cf.html","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Understanding of NetCDF","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"qRc5apmXBb"}],"urlSource":"https://foundations.projectpythia.org/core/data-formats/netcdf-cf.html","key":"tT7J4rXTHK"}],"key":"IIf7GsMTsZ"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"e15gjFvBfl"}],"key":"ehUJnqzpTM"},{"type":"tableCell","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Familiarity with metadata structure","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"HFrlM4bwfR"}],"key":"X7Mbq1HaJ5"}],"key":"joYwJszpM6"},{"type":"tableRow","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Seaborn","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"k2QrjbhfcC"}],"key":"axHLn4l0RW"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"Helpful","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"BDoban1FfK"}],"key":"NLj9AfI1LU"},{"type":"tableCell","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[],"key":"SluTDTXlAg"}],"key":"pxm3PXTFnO"}],"key":"BHGgn5gX5k"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Time to learn","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"KEpTtvbUvO"}],"key":"fvKwJQhAqD"},{"type":"text","value":": 10 minutes","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"qm3KVD5B1g"}],"key":"P7r8sg2nZy"}],"key":"lIGYCGDk34"}],"key":"slqsfMdXn3"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Le77ayFMdy"}],"key":"tcMfg1by6L"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Imports","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"o11YA8aZuZ"}],"identifier":"imports","label":"Imports","html_id":"imports","implicit":true,"key":"owc9uUV21Y"}],"key":"BBb1oXAu08"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"from matplotlib import pyplot as plt\nimport xarray as xr\nimport numpy as np\nimport dask\nfrom dask.diagnostics import progress\nfrom tqdm.autonotebook import tqdm\nimport intake\nimport fsspec\nimport seaborn as sns\n\n%matplotlib inline","key":"lg5KhMMov4"},{"type":"output","id":"kesjaK_9vrOqRse6re3Z5","data":[{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/1335193511.py:6: TqdmExperimentalWarning: Using `tqdm.autonotebook.tqdm` in notebook mode. Use `tqdm.tqdm` instead to force console mode (e.g. in jupyter console)\n  from tqdm.autonotebook import tqdm\n"}],"key":"iqtEU8mtdq"}],"key":"h4on51TbmN"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"col = intake.open_esm_datastore(\"https://storage.googleapis.com/cmip6/pangeo-cmip6.json\")\ncol","key":"EgKmtZguYw"},{"type":"output","id":"DVPMesrtK0igm6tQ-ma84","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"},"text/html":{"content":"<p><strong>pangeo-cmip6 catalog with 7674 dataset(s) from 514818 asset(s)</strong>:</p> <div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>unique</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>activity_id</th>\n      <td>18</td>\n    </tr>\n    <tr>\n      <th>institution_id</th>\n      <td>36</td>\n    </tr>\n    <tr>\n      <th>source_id</th>\n      <td>88</td>\n    </tr>\n    <tr>\n      <th>experiment_id</th>\n      <td>170</td>\n    </tr>\n    <tr>\n      <th>member_id</th>\n      <td>657</td>\n    </tr>\n    <tr>\n      <th>table_id</th>\n      <td>37</td>\n    </tr>\n    <tr>\n      <th>variable_id</th>\n      <td>700</td>\n    </tr>\n    <tr>\n      <th>grid_label</th>\n      <td>10</td>\n    </tr>\n    <tr>\n      <th>zstore</th>\n      <td>514818</td>\n    </tr>\n    <tr>\n      <th>dcpp_init_year</th>\n      <td>60</td>\n    </tr>\n    <tr>\n      <th>version</th>\n      <td>736</td>\n    </tr>\n    <tr>\n      <th>derived_variable_id</th>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"}}}],"key":"aqh7CfiwXA"}],"key":"ar91FEbOtL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"[eid for eid in col.df['experiment_id'].unique() if 'ssp' in eid]","key":"ci3HoxDsiF"},{"type":"output","id":"elJ-bnr65BKsMlZgB9q2a","data":[{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/plain":{"content":"['ssp585',\n 'ssp245',\n 'ssp370SST-lowCH4',\n 'ssp370-lowNTCF',\n 'ssp370SST-lowNTCF',\n 'ssp370SST-ssp126Lu',\n 'ssp370SST',\n 'ssp370pdSST',\n 'ssp119',\n 'ssp370',\n 'esm-ssp585-ssp126Lu',\n 'ssp126-ssp370Lu',\n 'ssp370-ssp126Lu',\n 'ssp126',\n 'esm-ssp585',\n 'ssp245-GHG',\n 'ssp245-nat',\n 'ssp460',\n 'ssp434',\n 'ssp534-over',\n 'ssp245-stratO3',\n 'ssp245-aer',\n 'ssp245-cov-modgreen',\n 'ssp245-cov-fossil',\n 'ssp245-cov-strgreen',\n 'ssp245-covid',\n 'ssp585-bgc']","content_type":"text/plain"}}}],"key":"QHv4ZpmfbG"}],"key":"M7N0CYZM3Q"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"There is currently a significant amount of data for these runs:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XqyvviIr18"}],"key":"icj39Eg6OC"}],"key":"P3SkxvZBQV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"expts = ['historical', 'ssp245', 'ssp585']\n\nquery = dict(\n    experiment_id=expts,\n    table_id='Amon',\n    variable_id=['tas'],\n    member_id = 'r1i1p1f1',\n)\n\ncol_subset = col.search(require_all_on=[\"source_id\"], **query)\ncol_subset.df.groupby(\"source_id\")[\n    [\"experiment_id\", \"variable_id\", \"table_id\"]\n].nunique()","key":"t2wr60Ypgq"},{"type":"output","id":"qLYglWn55PzAntrCEZvWK","data":[{"output_type":"execute_result","execution_count":4,"metadata":{},"data":{"text/plain":{"content":"                  experiment_id  variable_id  table_id\nsource_id                                             \nACCESS-CM2                    3            1         1\nAWI-CM-1-1-MR                 3            1         1\nBCC-CSM2-MR                   3            1         1\nCAMS-CSM1-0                   3            1         1\nCAS-ESM2-0                    3            1         1\nCESM2-WACCM                   3            1         1\nCIESM                         3            1         1\nCMCC-CM2-SR5                  3            1         1\nCMCC-ESM2                     3            1         1\nCanESM5                       3            1         1\nE3SM-1-1                      3            1         1\nEC-Earth3                     3            1         1\nEC-Earth3-CC                  3            1         1\nEC-Earth3-Veg                 3            1         1\nEC-Earth3-Veg-LR              3            1         1\nFGOALS-f3-L                   3            1         1\nFGOALS-g3                     3            1         1\nFIO-ESM-2-0                   3            1         1\nGFDL-CM4                      3            1         1\nGFDL-ESM4                     3            1         1\nIITM-ESM                      3            1         1\nINM-CM4-8                     3            1         1\nINM-CM5-0                     3            1         1\nIPSL-CM6A-LR                  3            1         1\nKACE-1-0-G                    3            1         1\nKIOST-ESM                     3            1         1\nMIROC6                        3            1         1\nMPI-ESM1-2-HR                 3            1         1\nMPI-ESM1-2-LR                 3            1         1\nMRI-ESM2-0                    3            1         1\nNESM3                         3            1         1\nNorESM2-LM                    3            1         1\nNorESM2-MM                    3            1         1\nTaiESM1                       3            1         1","content_type":"text/plain"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>experiment_id</th>\n      <th>variable_id</th>\n      <th>table_id</th>\n    </tr>\n    <tr>\n      <th>source_id</th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>ACCESS-CM2</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>AWI-CM-1-1-MR</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>BCC-CSM2-MR</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>CAMS-CSM1-0</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>CAS-ESM2-0</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>CESM2-WACCM</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>CIESM</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>CMCC-CM2-SR5</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>CMCC-ESM2</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>CanESM5</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>E3SM-1-1</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>EC-Earth3</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>EC-Earth3-CC</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>EC-Earth3-Veg</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>EC-Earth3-Veg-LR</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>FGOALS-f3-L</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>FGOALS-g3</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>FIO-ESM-2-0</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>GFDL-CM4</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>GFDL-ESM4</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>IITM-ESM</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>INM-CM4-8</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>INM-CM5-0</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>IPSL-CM6A-LR</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>KACE-1-0-G</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>KIOST-ESM</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>MIROC6</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>MPI-ESM1-2-HR</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>MPI-ESM1-2-LR</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>MRI-ESM2-0</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>NESM3</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>NorESM2-LM</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>NorESM2-MM</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>TaiESM1</th>\n      <td>3</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"}}}],"key":"FIq1Yj1XeB"}],"key":"nolUvApQ6D"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def drop_all_bounds(ds):\n    drop_vars = [vname for vname in ds.coords\n                 if (('_bounds') in vname ) or ('_bnds') in vname]\n    return ds.drop(drop_vars)\n\ndef open_dset(df):\n    assert len(df) == 1\n    ds = xr.open_zarr(fsspec.get_mapper(df.zstore.values[0]), consolidated=True)\n    return drop_all_bounds(ds)\n\ndef open_delayed(df):\n    return dask.delayed(open_dset)(df)\n\nfrom collections import defaultdict\ndsets = defaultdict(dict)\n\nfor group, df in col_subset.df.groupby(by=['source_id', 'experiment_id']):\n    dsets[group[0]][group[1]] = open_delayed(df)","key":"BqbEAOy9KQ"},{"type":"output","id":"u-uASTeumLxBwu3uMSsKH","data":[],"key":"DpwLuOcc23"}],"key":"BOhqMDNfxO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dsets_ = dask.compute(dict(dsets))[0]","key":"iuPuxi7XT1"},{"type":"output","id":"keDcLm-smuYkufqWKsW1A","data":[{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:8: SerializationWarning: Unable to decode time axis into full numpy.datetime64[ns] objects, continuing using cftime.datetime objects instead, reason: dates out of range. To silence this warning use a coarser resolution 'time_unit' or specify 'use_cftime=True'.\n  ds = xr.open_zarr(fsspec.get_mapper(df.zstore.values[0]), consolidated=True)\n/tmp/ipykernel_4205/354912406.py:8: SerializationWarning: Unable to decode time axis into full numpy.datetime64[ns] objects, continuing using cftime.datetime objects instead, reason: dates out of range. To silence this warning use a coarser resolution 'time_unit' or specify 'use_cftime=True'.\n  ds = xr.open_zarr(fsspec.get_mapper(df.zstore.values[0]), consolidated=True)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:8: SerializationWarning: Unable to decode time axis into full numpy.datetime64[ns] objects, continuing using cftime.datetime objects instead, reason: dates out of range. To silence this warning use a coarser resolution 'time_unit' or specify 'use_cftime=True'.\n  ds = xr.open_zarr(fsspec.get_mapper(df.zstore.values[0]), consolidated=True)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:8: SerializationWarning: Unable to decode time axis into full numpy.datetime64[ns] objects, continuing using cftime.datetime objects instead, reason: dates out of range. To silence this warning use a coarser resolution 'time_unit' or specify 'use_cftime=True'.\n  ds = xr.open_zarr(fsspec.get_mapper(df.zstore.values[0]), consolidated=True)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:8: SerializationWarning: Unable to decode time axis into full numpy.datetime64[ns] objects, continuing using cftime.datetime objects instead, reason: dates out of range. To silence this warning use a coarser resolution 'time_unit' or specify 'use_cftime=True'.\n  ds = xr.open_zarr(fsspec.get_mapper(df.zstore.values[0]), consolidated=True)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/354912406.py:4: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  return ds.drop(drop_vars)\n"}],"key":"QGgAnq9WNc"}],"key":"Pl1tGOzfDl"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculate global means:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wt0PoMbWxC"}],"key":"ZhSF9HsG9q"}],"key":"Z04y7WuuWp"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"def get_lat_name(ds):\n    for lat_name in ['lat', 'latitude']:\n        if lat_name in ds.coords:\n            return lat_name\n    raise RuntimeError(\"Couldn't find a latitude coordinate\")\n\ndef global_mean(ds):\n    lat = ds[get_lat_name(ds)]\n    weight = np.cos(np.deg2rad(lat))\n    weight /= weight.mean()\n    other_dims = set(ds.dims) - {'time'}\n    return (ds * weight).mean(other_dims)","key":"qnare3qOsH"},{"type":"output","id":"NMhRmrlO8XirZu3-CHHtI","data":[],"key":"Aw5eWfDH0e"}],"key":"NhcVWgJ2ij"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"expt_da = xr.DataArray(expts, dims='experiment_id', name='experiment_id',\n                       coords={'experiment_id': expts})\n\ndsets_aligned = {}\n\nfor k, v in tqdm(dsets_.items()):\n    expt_dsets = v.values()\n    if any([d is None for d in expt_dsets]):\n        print(f\"Missing experiment for {k}\")\n        continue\n\n    for ds in expt_dsets:\n        ds.coords['year'] = ds.time.dt.year\n\n    # workaround for\n    # https://github.com/pydata/xarray/issues/2237#issuecomment-620961663\n    dsets_ann_mean = [v[expt].pipe(global_mean)\n                             .swap_dims({'time': 'year'})\n                             .drop('time')\n                             .coarsen(year=12).mean()\n                      for expt in expts]\n\n    # align everything with the 4xCO2 experiment\n    dsets_aligned[k] = xr.concat(dsets_ann_mean, join='outer',\n                                 dim=expt_da)","key":"irSfZP9GCi"},{"type":"output","id":"OvqThs3ZCp56iLkVC03uU","data":[{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"  0%|          | 0/34 [00:00<?, ?it/s]","content_type":"text/plain"},"application/vnd.jupyter.widget-view+json":{"content":"{\"version_major\":2,\"version_minor\":0,\"model_id\":\"bb0d9181c21446059ce1fa7d5aa261ef\"}","content_type":"application/vnd.jupyter.widget-view+json"}}},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"},{"output_type":"stream","name":"stderr","text":"/tmp/ipykernel_4205/3176585284.py:19: DeprecationWarning: dropping variables using `drop` is deprecated; use drop_vars.\n  .drop('time')\n"}],"key":"wNEVwmYP4E"}],"key":"K6mKWN0kDz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"dsets_aligned_ = dask.compute(dsets_aligned)[0]","key":"OkBEVnemLH"},{"type":"output","id":"ceJmg3qIIkVsj11YnGJ4u","data":[],"key":"NIXB7PUQMa"}],"key":"mqP6Fv3hfE"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"source_ids = list(dsets_aligned_.keys())\nsource_da = xr.DataArray(source_ids, dims='source_id', name='source_id',\n                         coords={'source_id': source_ids})\n\nbig_ds = xr.concat([ds.reset_coords(drop=True)\n                    for ds in dsets_aligned_.values()],\n                    dim=source_da)\n\nbig_ds","key":"cNbfup8MVE"},{"type":"output","id":"2M4D6T773ZG16juA6uKap","data":[{"output_type":"execute_result","execution_count":10,"metadata":{},"data":{"text/plain":{"content":"<xarray.Dataset> Size: 374kB\nDimensions:        (source_id: 34, experiment_id: 3, year: 451)\nCoordinates:\n  * year           (year) float64 4kB 1.85e+03 1.851e+03 ... 2.299e+03 2.3e+03\n  * experiment_id  (experiment_id) <U10 120B 'historical' 'ssp245' 'ssp585'\n  * source_id      (source_id) <U16 2kB 'ACCESS-CM2' ... 'TaiESM1'\nData variables:\n    tas            (source_id, experiment_id, year) float64 368kB 287.0 ... nan","content_type":"text/plain"},"text/html":{"content":"<div><svg style=\"position: absolute; width: 0; height: 0; overflow: hidden\">\n<defs>\n<symbol id=\"icon-database\" viewBox=\"0 0 32 32\">\n<path d=\"M16 0c-8.837 0-16 2.239-16 5v4c0 2.761 7.163 5 16 5s16-2.239 16-5v-4c0-2.761-7.163-5-16-5z\"></path>\n<path d=\"M16 17c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n<path d=\"M16 26c-8.837 0-16-2.239-16-5v6c0 2.761 7.163 5 16 5s16-2.239 16-5v-6c0 2.761-7.163 5-16 5z\"></path>\n</symbol>\n<symbol id=\"icon-file-text2\" viewBox=\"0 0 32 32\">\n<path d=\"M28.681 7.159c-0.694-0.947-1.662-2.053-2.724-3.116s-2.169-2.030-3.116-2.724c-1.612-1.182-2.393-1.319-2.841-1.319h-15.5c-1.378 0-2.5 1.121-2.5 2.5v27c0 1.378 1.122 2.5 2.5 2.5h23c1.378 0 2.5-1.122 2.5-2.5v-19.5c0-0.448-0.137-1.23-1.319-2.841zM24.543 5.457c0.959 0.959 1.712 1.825 2.268 2.543h-4.811v-4.811c0.718 0.556 1.584 1.309 2.543 2.268zM28 29.5c0 0.271-0.229 0.5-0.5 0.5h-23c-0.271 0-0.5-0.229-0.5-0.5v-27c0-0.271 0.229-0.5 0.5-0.5 0 0 15.499-0 15.5 0v7c0 0.552 0.448 1 1 1h7v19.5z\"></path>\n<path d=\"M23 26h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 22h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n<path d=\"M23 18h-14c-0.552 0-1-0.448-1-1s0.448-1 1-1h14c0.552 0 1 0.448 1 1s-0.448 1-1 1z\"></path>\n</symbol>\n</defs>\n</svg>\n<style>/* CSS stylesheet for displaying xarray objects in jupyterlab.\n *\n */\n\n:root {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base rgba(0, 0, 0, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(0, 0, 0, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, white)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, white) h s calc(l - 15))\n  );\n}\n\nhtml[theme=\"dark\"],\nhtml[data-theme=\"dark\"],\nbody[data-theme=\"dark\"],\nbody.vscode-dark {\n  --xr-font-color0: var(\n    --jp-content-font-color0,\n    var(--pst-color-text-base, rgba(255, 255, 255, 1))\n  );\n  --xr-font-color2: var(\n    --jp-content-font-color2,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.54))\n  );\n  --xr-font-color3: var(\n    --jp-content-font-color3,\n    var(--pst-color-text-base, rgba(255, 255, 255, 0.38))\n  );\n  --xr-border-color: var(\n    --jp-border-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 10))\n  );\n  --xr-disabled-color: var(\n    --jp-layout-color3,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 40))\n  );\n  --xr-background-color: var(\n    --jp-layout-color0,\n    var(--pst-color-on-background, #111111)\n  );\n  --xr-background-color-row-even: var(\n    --jp-layout-color1,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 5))\n  );\n  --xr-background-color-row-odd: var(\n    --jp-layout-color2,\n    hsl(from var(--pst-color-on-background, #111111) h s calc(l + 15))\n  );\n}\n\n.xr-wrap {\n  display: block !important;\n  min-width: 300px;\n  max-width: 700px;\n}\n\n.xr-text-repr-fallback {\n  /* fallback to plain text repr when CSS is not injected (untrusted notebook) */\n  display: none;\n}\n\n.xr-header {\n  padding-top: 6px;\n  padding-bottom: 6px;\n  margin-bottom: 4px;\n  border-bottom: solid 1px var(--xr-border-color);\n}\n\n.xr-header > div,\n.xr-header > ul {\n  display: inline;\n  margin-top: 0;\n  margin-bottom: 0;\n}\n\n.xr-obj-type,\n.xr-array-name {\n  margin-left: 2px;\n  margin-right: 10px;\n}\n\n.xr-obj-type {\n  color: var(--xr-font-color2);\n}\n\n.xr-sections {\n  padding-left: 0 !important;\n  display: grid;\n  grid-template-columns: 150px auto auto 1fr 0 20px 0 20px;\n}\n\n.xr-section-item {\n  display: contents;\n}\n\n.xr-section-item input {\n  display: inline-block;\n  opacity: 0;\n  height: 0;\n}\n\n.xr-section-item input + label {\n  color: var(--xr-disabled-color);\n  border: 2px solid transparent !important;\n}\n\n.xr-section-item input:enabled + label {\n  cursor: pointer;\n  color: var(--xr-font-color2);\n}\n\n.xr-section-item input:focus + label {\n  border: 2px solid var(--xr-font-color0) !important;\n}\n\n.xr-section-item input:enabled + label:hover {\n  color: var(--xr-font-color0);\n}\n\n.xr-section-summary {\n  grid-column: 1;\n  color: var(--xr-font-color2);\n  font-weight: 500;\n}\n\n.xr-section-summary > span {\n  display: inline-block;\n  padding-left: 0.5em;\n}\n\n.xr-section-summary-in:disabled + label {\n  color: var(--xr-font-color2);\n}\n\n.xr-section-summary-in + label:before {\n  display: inline-block;\n  content: \"►\";\n  font-size: 11px;\n  width: 15px;\n  text-align: center;\n}\n\n.xr-section-summary-in:disabled + label:before {\n  color: var(--xr-disabled-color);\n}\n\n.xr-section-summary-in:checked + label:before {\n  content: \"▼\";\n}\n\n.xr-section-summary-in:checked + label > span {\n  display: none;\n}\n\n.xr-section-summary,\n.xr-section-inline-details {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n\n.xr-section-inline-details {\n  grid-column: 2 / -1;\n}\n\n.xr-section-details {\n  display: none;\n  grid-column: 1 / -1;\n  margin-bottom: 5px;\n}\n\n.xr-section-summary-in:checked ~ .xr-section-details {\n  display: contents;\n}\n\n.xr-array-wrap {\n  grid-column: 1 / -1;\n  display: grid;\n  grid-template-columns: 20px auto;\n}\n\n.xr-array-wrap > label {\n  grid-column: 1;\n  vertical-align: top;\n}\n\n.xr-preview {\n  color: var(--xr-font-color3);\n}\n\n.xr-array-preview,\n.xr-array-data {\n  padding: 0 5px !important;\n  grid-column: 2;\n}\n\n.xr-array-data,\n.xr-array-in:checked ~ .xr-array-preview {\n  display: none;\n}\n\n.xr-array-in:checked ~ .xr-array-data,\n.xr-array-preview {\n  display: inline-block;\n}\n\n.xr-dim-list {\n  display: inline-block !important;\n  list-style: none;\n  padding: 0 !important;\n  margin: 0;\n}\n\n.xr-dim-list li {\n  display: inline-block;\n  padding: 0;\n  margin: 0;\n}\n\n.xr-dim-list:before {\n  content: \"(\";\n}\n\n.xr-dim-list:after {\n  content: \")\";\n}\n\n.xr-dim-list li:not(:last-child):after {\n  content: \",\";\n  padding-right: 5px;\n}\n\n.xr-has-index {\n  font-weight: bold;\n}\n\n.xr-var-list,\n.xr-var-item {\n  display: contents;\n}\n\n.xr-var-item > div,\n.xr-var-item label,\n.xr-var-item > .xr-var-name span {\n  background-color: var(--xr-background-color-row-even);\n  border-color: var(--xr-background-color-row-odd);\n  margin-bottom: 0;\n  padding-top: 2px;\n}\n\n.xr-var-item > .xr-var-name:hover span {\n  padding-right: 5px;\n}\n\n.xr-var-list > li:nth-child(odd) > div,\n.xr-var-list > li:nth-child(odd) > label,\n.xr-var-list > li:nth-child(odd) > .xr-var-name span {\n  background-color: var(--xr-background-color-row-odd);\n  border-color: var(--xr-background-color-row-even);\n}\n\n.xr-var-name {\n  grid-column: 1;\n}\n\n.xr-var-dims {\n  grid-column: 2;\n}\n\n.xr-var-dtype {\n  grid-column: 3;\n  text-align: right;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-preview {\n  grid-column: 4;\n}\n\n.xr-index-preview {\n  grid-column: 2 / 5;\n  color: var(--xr-font-color2);\n}\n\n.xr-var-name,\n.xr-var-dims,\n.xr-var-dtype,\n.xr-preview,\n.xr-attrs dt {\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  padding-right: 10px;\n}\n\n.xr-var-name:hover,\n.xr-var-dims:hover,\n.xr-var-dtype:hover,\n.xr-attrs dt:hover {\n  overflow: visible;\n  width: auto;\n  z-index: 1;\n}\n\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  display: none;\n  border-top: 2px dotted var(--xr-background-color);\n  padding-bottom: 20px !important;\n  padding-top: 10px !important;\n}\n\n.xr-var-attrs-in + label,\n.xr-var-data-in + label,\n.xr-index-data-in + label {\n  padding: 0 1px;\n}\n\n.xr-var-attrs-in:checked ~ .xr-var-attrs,\n.xr-var-data-in:checked ~ .xr-var-data,\n.xr-index-data-in:checked ~ .xr-index-data {\n  display: block;\n}\n\n.xr-var-data > table {\n  float: right;\n}\n\n.xr-var-data > pre,\n.xr-index-data > pre,\n.xr-var-data > table > tbody > tr {\n  background-color: transparent !important;\n}\n\n.xr-var-name span,\n.xr-var-data,\n.xr-index-name div,\n.xr-index-data,\n.xr-attrs {\n  padding-left: 25px !important;\n}\n\n.xr-attrs,\n.xr-var-attrs,\n.xr-var-data,\n.xr-index-data {\n  grid-column: 1 / -1;\n}\n\ndl.xr-attrs {\n  padding: 0;\n  margin: 0;\n  display: grid;\n  grid-template-columns: 125px auto;\n}\n\n.xr-attrs dt,\n.xr-attrs dd {\n  padding: 0;\n  margin: 0;\n  float: left;\n  padding-right: 10px;\n  width: auto;\n}\n\n.xr-attrs dt {\n  font-weight: normal;\n  grid-column: 1;\n}\n\n.xr-attrs dt:hover span {\n  display: inline-block;\n  background: var(--xr-background-color);\n  padding-right: 10px;\n}\n\n.xr-attrs dd {\n  grid-column: 2;\n  white-space: pre-wrap;\n  word-break: break-all;\n}\n\n.xr-icon-database,\n.xr-icon-file-text2,\n.xr-no-icon {\n  display: inline-block;\n  vertical-align: middle;\n  width: 1em;\n  height: 1.5em !important;\n  stroke-width: 0;\n  stroke: currentColor;\n  fill: currentColor;\n}\n\n.xr-var-attrs-in:checked + label > .xr-icon-file-text2,\n.xr-var-data-in:checked + label > .xr-icon-database,\n.xr-index-data-in:checked + label > .xr-icon-database {\n  color: var(--xr-font-color0);\n  filter: drop-shadow(1px 1px 5px var(--xr-font-color2));\n  stroke-width: 0.8px;\n}\n</style><pre class='xr-text-repr-fallback'>&lt;xarray.Dataset&gt; Size: 374kB\nDimensions:        (source_id: 34, experiment_id: 3, year: 451)\nCoordinates:\n  * year           (year) float64 4kB 1.85e+03 1.851e+03 ... 2.299e+03 2.3e+03\n  * experiment_id  (experiment_id) &lt;U10 120B &#x27;historical&#x27; &#x27;ssp245&#x27; &#x27;ssp585&#x27;\n  * source_id      (source_id) &lt;U16 2kB &#x27;ACCESS-CM2&#x27; ... &#x27;TaiESM1&#x27;\nData variables:\n    tas            (source_id, experiment_id, year) float64 368kB 287.0 ... nan</pre><div class='xr-wrap' style='display:none'><div class='xr-header'><div class='xr-obj-type'>xarray.Dataset</div></div><ul class='xr-sections'><li class='xr-section-item'><input id='section-78f38591-c2f1-4aa6-872b-afffa02c7fd9' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-78f38591-c2f1-4aa6-872b-afffa02c7fd9' class='xr-section-summary'  title='Expand/collapse section'>Dimensions:</label><div class='xr-section-inline-details'><ul class='xr-dim-list'><li><span class='xr-has-index'>source_id</span>: 34</li><li><span class='xr-has-index'>experiment_id</span>: 3</li><li><span class='xr-has-index'>year</span>: 451</li></ul></div><div class='xr-section-details'></div></li><li class='xr-section-item'><input id='section-d8fdf19e-5d9d-4447-ba92-f3e1e0fc74cf' class='xr-section-summary-in' type='checkbox'  checked><label for='section-d8fdf19e-5d9d-4447-ba92-f3e1e0fc74cf' class='xr-section-summary' >Coordinates: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>year</span></div><div class='xr-var-dims'>(year)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>1.85e+03 1.851e+03 ... 2.3e+03</div><input id='attrs-1e9dfc15-46a4-4538-adf3-c66d1689ce46' class='xr-var-attrs-in' type='checkbox' ><label for='attrs-1e9dfc15-46a4-4538-adf3-c66d1689ce46' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-6d12c8e7-32f6-4a10-a08f-9cdadcc1106d' class='xr-var-data-in' type='checkbox'><label for='data-6d12c8e7-32f6-4a10-a08f-9cdadcc1106d' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'><dt><span>axis :</span></dt><dd>T</dd><dt><span>bounds :</span></dt><dd>time_bnds</dd><dt><span>long_name :</span></dt><dd>time</dd><dt><span>standard_name :</span></dt><dd>time</dd></dl></div><div class='xr-var-data'><pre>array([1850., 1851., 1852., ..., 2298., 2299., 2300.], shape=(451,))</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>experiment_id</span></div><div class='xr-var-dims'>(experiment_id)</div><div class='xr-var-dtype'>&lt;U10</div><div class='xr-var-preview xr-preview'>&#x27;historical&#x27; &#x27;ssp245&#x27; &#x27;ssp585&#x27;</div><input id='attrs-2998c778-8380-49ab-83aa-a7df8ef0deef' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-2998c778-8380-49ab-83aa-a7df8ef0deef' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-7d8edda5-1c49-40cf-88a1-47c77a9266cf' class='xr-var-data-in' type='checkbox'><label for='data-7d8edda5-1c49-40cf-88a1-47c77a9266cf' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;historical&#x27;, &#x27;ssp245&#x27;, &#x27;ssp585&#x27;], dtype=&#x27;&lt;U10&#x27;)</pre></div></li><li class='xr-var-item'><div class='xr-var-name'><span class='xr-has-index'>source_id</span></div><div class='xr-var-dims'>(source_id)</div><div class='xr-var-dtype'>&lt;U16</div><div class='xr-var-preview xr-preview'>&#x27;ACCESS-CM2&#x27; ... &#x27;TaiESM1&#x27;</div><input id='attrs-4faebd1a-c613-4fbd-88e3-8eec089163a6' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-4faebd1a-c613-4fbd-88e3-8eec089163a6' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-8e66fcf8-63d6-4614-ab8c-e3aa39bed3cb' class='xr-var-data-in' type='checkbox'><label for='data-8e66fcf8-63d6-4614-ab8c-e3aa39bed3cb' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([&#x27;ACCESS-CM2&#x27;, &#x27;AWI-CM-1-1-MR&#x27;, &#x27;BCC-CSM2-MR&#x27;, &#x27;CAMS-CSM1-0&#x27;,\n       &#x27;CAS-ESM2-0&#x27;, &#x27;CESM2-WACCM&#x27;, &#x27;CIESM&#x27;, &#x27;CMCC-CM2-SR5&#x27;, &#x27;CMCC-ESM2&#x27;,\n       &#x27;CanESM5&#x27;, &#x27;E3SM-1-1&#x27;, &#x27;EC-Earth3&#x27;, &#x27;EC-Earth3-CC&#x27;, &#x27;EC-Earth3-Veg&#x27;,\n       &#x27;EC-Earth3-Veg-LR&#x27;, &#x27;FGOALS-f3-L&#x27;, &#x27;FGOALS-g3&#x27;, &#x27;FIO-ESM-2-0&#x27;,\n       &#x27;GFDL-CM4&#x27;, &#x27;GFDL-ESM4&#x27;, &#x27;IITM-ESM&#x27;, &#x27;INM-CM4-8&#x27;, &#x27;INM-CM5-0&#x27;,\n       &#x27;IPSL-CM6A-LR&#x27;, &#x27;KACE-1-0-G&#x27;, &#x27;KIOST-ESM&#x27;, &#x27;MIROC6&#x27;, &#x27;MPI-ESM1-2-HR&#x27;,\n       &#x27;MPI-ESM1-2-LR&#x27;, &#x27;MRI-ESM2-0&#x27;, &#x27;NESM3&#x27;, &#x27;NorESM2-LM&#x27;, &#x27;NorESM2-MM&#x27;,\n       &#x27;TaiESM1&#x27;], dtype=&#x27;&lt;U16&#x27;)</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-2419318d-b988-4c3f-beb9-595458108fdb' class='xr-section-summary-in' type='checkbox'  checked><label for='section-2419318d-b988-4c3f-beb9-595458108fdb' class='xr-section-summary' >Data variables: <span>(1)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-var-name'><span>tas</span></div><div class='xr-var-dims'>(source_id, experiment_id, year)</div><div class='xr-var-dtype'>float64</div><div class='xr-var-preview xr-preview'>287.0 287.0 287.2 ... nan nan nan</div><input id='attrs-6bd0dac7-8393-49c6-ae12-92484c3b9046' class='xr-var-attrs-in' type='checkbox' disabled><label for='attrs-6bd0dac7-8393-49c6-ae12-92484c3b9046' title='Show/Hide attributes'><svg class='icon xr-icon-file-text2'><use xlink:href='#icon-file-text2'></use></svg></label><input id='data-238287fc-cec4-4f79-b2f4-d60f9168f3f0' class='xr-var-data-in' type='checkbox'><label for='data-238287fc-cec4-4f79-b2f4-d60f9168f3f0' title='Show/Hide data repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-var-attrs'><dl class='xr-attrs'></dl></div><div class='xr-var-data'><pre>array([[[287.00749364, 287.01698452, 287.17454216, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ..., 300.68990761,\n         300.73173147, 300.76578769]],\n\n       [[         nan, 286.82136175, 286.83013242, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan]],\n\n       [[287.53316044, 287.57944112, 287.74630242, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan]],\n...\n       [[287.58305201, 287.80131659, 287.70510569, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan]],\n\n       [[287.14579909, 287.16514246, 287.06030532, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan]],\n\n       [[286.88855234, 287.0176198 , 287.02504101, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan],\n        [         nan,          nan,          nan, ...,          nan,\n                  nan,          nan]]], shape=(34, 3, 451))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-26ee53ba-1721-4776-a645-ddefbe6b6f0c' class='xr-section-summary-in' type='checkbox'  ><label for='section-26ee53ba-1721-4776-a645-ddefbe6b6f0c' class='xr-section-summary' >Indexes: <span>(3)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><ul class='xr-var-list'><li class='xr-var-item'><div class='xr-index-name'><div>year</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-8db5cdb2-3866-43f6-b021-58eb53f1a000' class='xr-index-data-in' type='checkbox'/><label for='index-8db5cdb2-3866-43f6-b021-58eb53f1a000' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([1850.0, 1851.0, 1852.0, 1853.0, 1854.0, 1855.0, 1856.0, 1857.0, 1858.0,\n       1859.0,\n       ...\n       2291.0, 2292.0, 2293.0, 2294.0, 2295.0, 2296.0, 2297.0, 2298.0, 2299.0,\n       2300.0],\n      dtype=&#x27;float64&#x27;, name=&#x27;year&#x27;, length=451))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>experiment_id</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-1a8b28ef-cfcb-40b4-9c35-69681401ca59' class='xr-index-data-in' type='checkbox'/><label for='index-1a8b28ef-cfcb-40b4-9c35-69681401ca59' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;historical&#x27;, &#x27;ssp245&#x27;, &#x27;ssp585&#x27;], dtype=&#x27;object&#x27;, name=&#x27;experiment_id&#x27;))</pre></div></li><li class='xr-var-item'><div class='xr-index-name'><div>source_id</div></div><div class='xr-index-preview'>PandasIndex</div><input type='checkbox' disabled/><label></label><input id='index-29436024-81c9-43ba-ac2b-544756ad0225' class='xr-index-data-in' type='checkbox'/><label for='index-29436024-81c9-43ba-ac2b-544756ad0225' title='Show/Hide index repr'><svg class='icon xr-icon-database'><use xlink:href='#icon-database'></use></svg></label><div class='xr-index-data'><pre>PandasIndex(Index([&#x27;ACCESS-CM2&#x27;, &#x27;AWI-CM-1-1-MR&#x27;, &#x27;BCC-CSM2-MR&#x27;, &#x27;CAMS-CSM1-0&#x27;,\n       &#x27;CAS-ESM2-0&#x27;, &#x27;CESM2-WACCM&#x27;, &#x27;CIESM&#x27;, &#x27;CMCC-CM2-SR5&#x27;, &#x27;CMCC-ESM2&#x27;,\n       &#x27;CanESM5&#x27;, &#x27;E3SM-1-1&#x27;, &#x27;EC-Earth3&#x27;, &#x27;EC-Earth3-CC&#x27;, &#x27;EC-Earth3-Veg&#x27;,\n       &#x27;EC-Earth3-Veg-LR&#x27;, &#x27;FGOALS-f3-L&#x27;, &#x27;FGOALS-g3&#x27;, &#x27;FIO-ESM-2-0&#x27;,\n       &#x27;GFDL-CM4&#x27;, &#x27;GFDL-ESM4&#x27;, &#x27;IITM-ESM&#x27;, &#x27;INM-CM4-8&#x27;, &#x27;INM-CM5-0&#x27;,\n       &#x27;IPSL-CM6A-LR&#x27;, &#x27;KACE-1-0-G&#x27;, &#x27;KIOST-ESM&#x27;, &#x27;MIROC6&#x27;, &#x27;MPI-ESM1-2-HR&#x27;,\n       &#x27;MPI-ESM1-2-LR&#x27;, &#x27;MRI-ESM2-0&#x27;, &#x27;NESM3&#x27;, &#x27;NorESM2-LM&#x27;, &#x27;NorESM2-MM&#x27;,\n       &#x27;TaiESM1&#x27;],\n      dtype=&#x27;object&#x27;, name=&#x27;source_id&#x27;))</pre></div></li></ul></div></li><li class='xr-section-item'><input id='section-256f4a2c-a165-42d3-bda4-ac18ab4597cd' class='xr-section-summary-in' type='checkbox' disabled ><label for='section-256f4a2c-a165-42d3-bda4-ac18ab4597cd' class='xr-section-summary'  title='Expand/collapse section'>Attributes: <span>(0)</span></label><div class='xr-section-inline-details'></div><div class='xr-section-details'><dl class='xr-attrs'></dl></div></li></ul></div></div>","content_type":"text/html"}}}],"key":"MfvY4z3mir"}],"key":"bRof5INsJG"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"df_all = big_ds.sel(year=slice(1900, 2100)).to_dataframe().reset_index()\ndf_all.head()","key":"xjLqat42zU"},{"type":"output","id":"WZJyO3I42z1bTnYnJqzaA","data":[{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/plain":{"content":"    source_id experiment_id    year         tas\n0  ACCESS-CM2    historical  1900.0  287.019917\n1  ACCESS-CM2    historical  1901.0  286.966182\n2  ACCESS-CM2    historical  1902.0  286.994328\n3  ACCESS-CM2    historical  1903.0  286.797043\n4  ACCESS-CM2    historical  1904.0  286.803313","content_type":"text/plain"},"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>source_id</th>\n      <th>experiment_id</th>\n      <th>year</th>\n      <th>tas</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>ACCESS-CM2</td>\n      <td>historical</td>\n      <td>1900.0</td>\n      <td>287.019917</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>ACCESS-CM2</td>\n      <td>historical</td>\n      <td>1901.0</td>\n      <td>286.966182</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>ACCESS-CM2</td>\n      <td>historical</td>\n      <td>1902.0</td>\n      <td>286.994328</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>ACCESS-CM2</td>\n      <td>historical</td>\n      <td>1903.0</td>\n      <td>286.797043</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>ACCESS-CM2</td>\n      <td>historical</td>\n      <td>1904.0</td>\n      <td>286.803313</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"}}}],"key":"CcBluWBMMY"}],"key":"riktp1MxI7"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"sns.relplot(data=df_all,\n            x=\"year\", y=\"tas\", hue='experiment_id',\n            kind=\"line\", ci=\"sd\", aspect=2);","key":"hQEb8PCYiu"},{"type":"output","id":"pCvNwSEg5OfGZeBap38EC","data":[{"output_type":"stream","name":"stderr","text":"/home/runner/micromamba/envs/cmip6-cookbook-dev/lib/python3.11/site-packages/seaborn/axisgrid.py:854: FutureWarning: \n\nThe `ci` parameter is deprecated. Use `errorbar='sd'` for the same effect.\n\n  func(*plot_args, **plot_kwargs)\n"},{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1113.5x500 with 1 Axes>","content_type":"text/plain"},"image/png":{"content_type":"image/png","hash":"2906cea4f88ee6353b5644967487f96e","path":"/cmip6-cookbook/build/2906cea4f88ee6353b5644967487f96e.png"}}}],"key":"wr1wosz1Pw"}],"key":"H4Js9aFp9r"},{"type":"block","kind":"notebook-content","children":[{"type":"thematicBreak","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vrKQDOKyw3"}],"key":"nv7bcptseD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HC90fh3xuN"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"Xf1Viecd3V"},{"type":"paragraph","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"In this notebook, we accessed data for historical, SSP245, and SSP585 runs from a collection of CMIP6 models and plotted the multimodel-mean global average surface air temperature for each run.","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"ttDFqLDZxC"}],"key":"aVJFwZf4q0"},{"type":"heading","depth":3,"position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"What’s next?","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"JCDIpGenkv"}],"identifier":"whats-next","label":"What’s next?","html_id":"whats-next","implicit":true,"key":"kESnFxRlcb"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"We will use CMIP6 data to analyze precipitation intensity under a warming climate.","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"NKRu3f87GQ"}],"key":"rVEYduhOCL"}],"key":"uuSCrP0KCC"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Resources and references","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JpAWPUHlrf"}],"identifier":"resources-and-references","label":"Resources and references","html_id":"resources-and-references","implicit":true,"key":"xWzgjorYEY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"link","url":"http://gallery.pangeo.io/repos/pangeo-gallery/cmip6/global_mean_surface_temp.html","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Original notebook in the Pangeo Gallery","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"eKaPFJXVvj"}],"urlSource":"http://gallery.pangeo.io/repos/pangeo-gallery/cmip6/global_mean_surface_temp.html","key":"PE0bn4At0I"},{"type":"text","value":" by Henri Drake and ","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"lhby5LU4d9"},{"type":"link","url":"https://ocean-transport.github.io/","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"children":[{"type":"text","value":"Ryan Abernathey","position":{"start":{"line":2,"column":1},"end":{"line":2,"column":1}},"key":"kAMxkw5zFH"}],"urlSource":"https://ocean-transport.github.io/","key":"utDhJD9Eqz"}],"key":"UEId3gUER2"}],"key":"iy1kY7obR6"}],"visibility":"show","key":"dVwwP1crjb"}],"key":"eVE6EIsBdO"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Estimating Equilibrium Climate Sensitivity","url":"/notebooks/example-workflows/ecs-cmip6","group":"Example workflows"},"next":{"title":"Precipitation Frequency Analysis","url":"/notebooks/example-workflows/precip-freq","group":"Example workflows"}}},"domain":"http://localhost:3000"}